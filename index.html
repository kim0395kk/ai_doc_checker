<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>AI ë¯¼ì› ë¶„ë¥˜ ë°ëª¨</title>
<style>
  body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;max-width:700px;margin:40px auto;padding:0 20px}
  h1{text-align:center;color:#333}
  textarea{width:100%;min-height:140px;padding:12px;border:1px solid #ccc;border-radius:8px;font-size:16px;box-sizing:border-box}
  button{margin-top:12px;width:100%;padding:12px;background:#007bff;color:#fff;border:0;border-radius:8px;font-size:18px;font-weight:bold;cursor:pointer}
  button:disabled{background:#6c757d}
  #result{margin-top:20px;min-height:30px;font-size:1.2em;text-align:center}
</style>
</head>
<body>
  <h1>ğŸ¤–Â AI ë¯¼ì› ë¶„ë¥˜</h1>
  <p>ë¯¼ì› ëŒ€í™”(ë˜ëŠ” ë¬¸ì¥)ë¥¼ ì…ë ¥í•´ ë³´ì„¸ìš”.</p>
  <textarea id="complaintText" placeholder="ì˜ˆ) ë„ë¡œì— ê³ ë¼ë‹ˆ ë¡œë“œí‚¬ì´ ìˆìŠµë‹ˆë‹¤."></textarea>
  <button id="runBtn">ë¶„ë¥˜í•˜ê¸°</button>
  <div id="result"></div>

<script>
const btn   = document.getElementById('runBtn');
const area  = document.getElementById('complaintText');
const result= document.getElementById('result');

btn.addEventListener('click', async () => {
  const text = area.value.trim();
  if (!text) {
    result.innerHTML = '<span style="color:red">ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”.</span>';
    return;
  }
  btn.disabled = true;
  result.textContent = 'ë¶„ì„ ì¤‘â€¦';

  try {
    const r = await fetch('/api/classify', {
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify({ text })
    });
    if (!r.ok) throw new Error(r.status);
    const { category } = await r.json();
    result.innerHTML = `ë¶„ì•¼: <strong style="color:#007bff">${category}</strong>`;
  } catch (e) {
    console.error(e);
    result.innerHTML = '<span style="color:red">ë¶„ë¥˜ ì‹¤íŒ¨</span>';
  }
  btn.disabled = false;
});
</script>
</body>
</html>
